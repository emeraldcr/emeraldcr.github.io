(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{385:function(t,i,a){"use strict";a.d(i,"a",(function(){return e}));const e="https://cdn.getyourguide.com/img/location_dummy/dummy_location_picture_wide.jpg/68.jpg"},628:function(t,i,a){"use strict";a.r(i);var e,r=a(9),o=a(60),s=a(385),l=a(258),d=a(276),n=a(357),c=a(297);!function(t){t.normal="normal",t.small="small",t.large="large"}(e||(e={}));var u=Object(o.a)({name:"LocationTopSightCardBase",mixins:[c.a],components:{SmartPicture:d.default,CIcon:n.a},props:{title:{type:String,required:!1,default:""},subtitle:{type:String,required:!1,default:""},imageUrl:{type:String,required:!1,default:s.a},imageAlt:{type:String,required:!1,default:""},linkUrl:{type:String,required:!0},showFallbackImage:{type:Boolean,default:!1,required:!1},isMobile:{type:Boolean,required:!1,default:!1},cardSizeVariant:{type:String,required:!1,default:e.normal},customPayload:{type:Object,required:!1,default:()=>({})},onImpressionTrackingEvent:{type:Object,required:!1,default:void 0}}}),p=a(53),h=Object(p.a)(u,(function(){var t=this,i=t._self._c;t._self._setupProxy;return i("Link",{staticClass:"top-sight-card",class:[t.cardSizeVariant,{"top-sight-card__mobile":t.isMobile}],attrs:{href:t.linkUrl,target:t.isMobile?"_self":"_blank","data-test-id":"top-sights-slider-card"},on:{"&click":function(i){return t.$emit("track-click-card")}}},[t.showFallbackImage?i("div",{staticClass:"top-sight-card__header round-corners",class:[t.cardSizeVariant,{mobile:t.isMobile}]},[i("div",{staticClass:"top-sight-card__icon"},[i("CIcon",{staticClass:"top-sight-card__icon-pin",attrs:{name:"pin"}})],1),t._v(" "),i("div",{staticClass:"top-sight-card__header-wrapper"},[i("p",{staticClass:"top-sight-card__header--title",class:t.cardSizeVariant},[i("span",{attrs:{"data-test-id":"top-sight-title"}},[t._v(t._s(t.title))])]),t._v(" "),t.subtitle?i("span",{staticClass:"top-sight-card__header--subtitle",attrs:{"data-test-id":"top-sight-counter"}},[t._v("\n        "+t._s(t.subtitle)+"\n      ")]):t._e()])]):i("div",{staticClass:"top-sight-card__header round-corners",class:[t.cardSizeVariant,{mobile:t.isMobile}]},[i("SmartPicture",{attrs:{"generic-image-url":t.imageUrl,"lazy-image":!0,"alt-text":t.imageAlt,"data-test-id":"top-sight-image"}}),t._v(" "),i("div",{staticClass:"top-sight-card__header-wrapper"},[i("p",{staticClass:"top-sight-card__header--title",class:t.cardSizeVariant},[i("span",[t._v(t._s(t.title))])]),t._v(" "),t.subtitle?i("span",{staticClass:"top-sight-card__header--subtitle"},[t._v("\n        "+t._s(t.subtitle)+"\n      ")]):t._e()])],1)])}),[],!1,null,"33a2f6de",null).exports,g=a(286),v=Object(o.a)({name:"LocationTopSightCard",components:{LocationTopSightCardBase:h},props:{topSight:{type:Object,required:!1,default:()=>({})},isWiderImage:{type:Boolean,required:!1,default:!1},index:{type:Number,required:!0},isMobile:{type:Boolean,required:!1,default:!1},cardSizeVariant:{type:String,required:!1,default:e.normal},cardProps:{type:Object,required:!1,default:void 0}},computed:r.a({},Object(l.c)({rankingUuid:"location/topSightsRankingUuid",availability:"availability/dates"}),{topSightUrl(){var t;return this.card?this.card.linkUrl:(null===(t=this.$props.topSight)||void 0===t?void 0:t.url)||""},showFallbackImage(){var t,i;return this.card?this.card.showFallbackImage:0===(null===(t=this.$props.topSight)||void 0===t||null===(i=t.photos)||void 0===i?void 0:i.length)},imageAlt(){var t;return this.card?this.card.imageAlt:null===(t=this.$props.topSight)||void 0===t?void 0:t.title},imageUrl(){var t;if(this.card)return this.card.imageUrl;let i;var a,e,r,o,l,d,n;(null===(t=this.$props.topSight)||void 0===t?void 0:t.photos[0])&&this.$props.topSight.photos[0][0]?i=null===(a=this.$props.topSight)||void 0===a||null===(e=a.photos)||void 0===e||null===(r=e[0])||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url:i=null===(l=this.$props.topSight)||void 0===l||null===(d=l.photos)||void 0===d||null===(n=d[0])||void 0===n?void 0:n.url;return this.$props.isWiderImage&&(i=null===i||void 0===i?void 0:i.replace("86.","70.")),null!==i&&void 0!==i?i:s.a},displayActivityCount(){var t,i;return Boolean(!(null===(t=this.availability)||void 0===t?void 0:t.from)||!(null===(i=this.availability)||void 0===i?void 0:i.to))},subtitle(){var t,i,a;if(this.card)return this.card.subtitle;if(void 0!==(null===(t=this.$props.topSight)||void 0===t?void 0:t.subtitle))return null===(a=this.$props.topSight)||void 0===a?void 0:a.subtitle;if(!this.displayActivityCount)return"";const e=null===(i=this.$props.topSight)||void 0===i?void 0:i.numberOfActivities;return e&&e>1?this.$t("locationtopsights activities count %1=activities",[e]):this.$t("locationtopsights activity count %1=activities",[e])},title(){var t;return this.card?this.card.title:this.$props.index+1+". "+(null===(t=this.$props.topSight)||void 0===t?void 0:t.title)},trackingId(){return this.card?this.card.trackingId:"top_pois"},trackingTarget(){return this.card?this.card.trackingTarget:"top_poi_card"},card(){return this.$props.cardProps},customPayload(){var t,i,a;const e=(null===(t=this.card)||void 0===t?void 0:t.eventMetadata)?r.a({},this.card.eventMetadata,{rankingUuid:this.rankingUuid}):{location_id:null!==(a=null===(i=this.$props.topSight)||void 0===i?void 0:i.id)&&void 0!==a?a:null,position:this.$props.index+1,page_type:"Destination",rankingUuid:this.rankingUuid};return{id:this.trackingId,target:this.trackingTarget,metadata:e}}}),methods:{sendClickEvent(){var t,i,a;const e={metadata:(null===(t=this.card)||void 0===t?void 0:t.eventMetadata)?r.a({},this.card.eventMetadata,{rankingUuid:this.rankingUuid}):{location_id:null===(i=this.$props.topSight)||void 0===i?void 0:i.id,poi_position:this.$props.index+1,page_type:"Destination",rankingUuid:this.rankingUuid},id:this.trackingId,target:this.trackingTarget};null===(a=this.$analyticsLogger)||void 0===a||a.logTravelerUIClick(e.target,e.id,e.metadata)},mounted(){this.$nextTick(()=>{var t;new g.a(this.$store.state,this.$route,null===(t=this.$refs)||void 0===t?void 0:t.locationTopSightCard)})},updated(){this.$nextTick(()=>{var t;new g.a(this.$store.state,this.$route,null===(t=this.$refs)||void 0===t?void 0:t.locationTopSightCard)})},getHref(t){var i,a;const e=null===(i=this.availability)||void 0===i?void 0:i.from,r=null===(a=this.availability)||void 0===a?void 0:a.to;return e&&r?`${t}?date_from=${e}&date_to=${r}`:e?`${t}?date_from=${e}`:r?`${t}?date_to=${r}`:t}}}),m=Object(p.a)(v,(function(){var t=this,i=t._self._c;t._self._setupProxy;return i("LocationTopSightCardBase",{ref:"locationTopSightCard",attrs:{index:t.index,"is-mobile":t.isMobile,"image-url":t.imageUrl,title:t.title,subtitle:t.subtitle,"show-fallback-image":t.showFallbackImage,"link-url":t.getHref(t.topSightUrl),"image-alt":t.imageAlt,"custom-payload":t.customPayload,"card-size-variant":t.cardSizeVariant},on:{"track-click-card":t.sendClickEvent}})}),[],!1,null,null,null);i.default=m.exports}}]);
//# sourceMappingURL=TopSightCard.096fd189.js.map